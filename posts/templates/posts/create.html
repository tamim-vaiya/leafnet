{% extends "users/base.html" %}
{% load widget_tweaks %}

{% block body %}
<div class="max-w-lg mx-auto mt-12 p-8 bg-white rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-6 text-center text-gray-700">Create New Post</h2>

    <form action="" method="POST" enctype="multipart/form-data" class="space-y-6">
        {% csrf_token %}

        <!-- Title Field -->
        <div>
            <label for="{{ form.title.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                Title
            </label>
            {{ form.title|add_class:"w-full border border-gray-300 rounded px-4 py-2 focus:ring-2 focus:ring-blue-500" }}
            {% if form.title.errors %}
                <p class="text-sm text-red-500 mt-1">{{ form.title.errors|striptags }}</p>
            {% endif %}
        </div>

        <!-- Image Upload -->
        <div>
            <label for="{{ form.image.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                Image
            </label>
            {{ form.image|add_class:"w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4 file:border file:rounded file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" }}
            {% if form.image.errors %}
                <p class="text-sm text-red-500 mt-1">{{ form.image.errors|striptags }}</p>
            {% endif %}
        </div>

        <!-- Caption -->
        <div>
            <label for="{{ form.caption.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
                Caption (optional)
            </label>
            {{ form.caption|add_class:"w-full border border-gray-300 rounded px-4 py-2 focus:ring-2 focus:ring-blue-500" }}
            {% if form.caption.errors %}
                <p class="text-sm text-red-500 mt-1">{{ form.caption.errors|striptags }}</p>
            {% endif %}
        </div>

        <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 rounded transition">
            Post
        </button>
    </form>
</div>
{% endblock body %}